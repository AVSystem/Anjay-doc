<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>anjay: include_public/anjay/security.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">anjay
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('security_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">security.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="dm_8h_source.html">anjay/dm.h</a>&gt;</code><br />
<code>#include &lt;avsystem/commons/avs_stream.h&gt;</code><br />
</div>
<p><a href="security_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structanjay__security__instance__t.html">anjay_security_instance_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structanjay__security__hsm__configuration__t.html">anjay_security_hsm_configuration_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ada0dbff2a045a3cd7bbaff797bd7f28a"><td class="memItemLeft" align="right" valign="top">typedef const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8h.html#ada0dbff2a045a3cd7bbaff797bd7f28a">anjay_security_hsm_query_cb_t</a>(<a class="el" href="core_8h.html#a4738d24ad04e0e49991008e29cb054a4">anjay_iid_t</a> iid, <a class="el" href="core_8h.html#a7702b524bb4425a3174b6a09615c0d2e">anjay_ssid_t</a> ssid, const void *data, size_t data_size, void *arg)</td></tr>
<tr class="separator:ada0dbff2a045a3cd7bbaff797bd7f28a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae0bb9e4afad60fe21f2614d998c28b14"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8h.html#ae0bb9e4afad60fe21f2614d998c28b14">anjay_security_object_add_instance</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay, const <a class="el" href="structanjay__security__instance__t.html">anjay_security_instance_t</a> *instance, <a class="el" href="core_8h.html#a4738d24ad04e0e49991008e29cb054a4">anjay_iid_t</a> *inout_iid)</td></tr>
<tr class="separator:ae0bb9e4afad60fe21f2614d998c28b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abef1771169fa2e7d5680c619ae5b2d06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8h.html#abef1771169fa2e7d5680c619ae5b2d06">anjay_security_object_purge</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay)</td></tr>
<tr class="separator:abef1771169fa2e7d5680c619ae5b2d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab363a65e8e2a998cfdebc2d7b48f8fbc"><td class="memItemLeft" align="right" valign="top">avs_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8h.html#ab363a65e8e2a998cfdebc2d7b48f8fbc">anjay_security_object_persist</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay, avs_stream_t *out_stream)</td></tr>
<tr class="separator:ab363a65e8e2a998cfdebc2d7b48f8fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b05345d1f93b260e7bca6dae8472b59"><td class="memItemLeft" align="right" valign="top">avs_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8h.html#a9b05345d1f93b260e7bca6dae8472b59">anjay_security_object_restore</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay, avs_stream_t *in_stream)</td></tr>
<tr class="separator:a9b05345d1f93b260e7bca6dae8472b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a9fbd4f84f05a8a2ce50f526c7bc77"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8h.html#a25a9fbd4f84f05a8a2ce50f526c7bc77">anjay_security_object_is_modified</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay)</td></tr>
<tr class="separator:a25a9fbd4f84f05a8a2ce50f526c7bc77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fffaeedfc5c2933e58ac1446fd0401d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8h.html#a5fffaeedfc5c2933e58ac1446fd0401d">anjay_security_object_install</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay)</td></tr>
<tr class="separator:a5fffaeedfc5c2933e58ac1446fd0401d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7cf8eb206cabb407aad57777dc0a144"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8h.html#ad7cf8eb206cabb407aad57777dc0a144">anjay_security_object_install_with_hsm</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay, const <a class="el" href="structanjay__security__hsm__configuration__t.html">anjay_security_hsm_configuration_t</a> *hsm_config)</td></tr>
<tr class="separator:ad7cf8eb206cabb407aad57777dc0a144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76147593ffc5841362a38589178fbaf1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8h.html#a76147593ffc5841362a38589178fbaf1">anjay_security_mark_hsm_permanent</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay, <a class="el" href="core_8h.html#a7702b524bb4425a3174b6a09615c0d2e">anjay_ssid_t</a> ssid)</td></tr>
<tr class="separator:a76147593ffc5841362a38589178fbaf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ada0dbff2a045a3cd7bbaff797bd7f28a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada0dbff2a045a3cd7bbaff797bd7f28a">&#9670;&nbsp;</a></span>anjay_security_hsm_query_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef const char* anjay_security_hsm_query_cb_t(<a class="el" href="core_8h.html#a4738d24ad04e0e49991008e29cb054a4">anjay_iid_t</a> iid, <a class="el" href="core_8h.html#a7702b524bb4425a3174b6a09615c0d2e">anjay_ssid_t</a> ssid, const void *data, size_t data_size, void *arg)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type for a callback function that will be called by the Security object implementation whenever a query string for storing a new security credential (provisioned by means other than EST) in external security engine is necessary. See also the fields of the <a class="el" href="structanjay__security__hsm__configuration__t.html">anjay_security_hsm_configuration_t</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iid</td><td>ID of the Security object Instance for which the credential is to be stored.</td></tr>
    <tr><td class="paramname">ssid</td><td>Short Server ID of the server account for which the credential is to be stored (<a class="el" href="core_8h.html#a857486d85f02514fc3f69ae7b2566f4c">ANJAY_SSID_BOOTSTRAP</a> in case of the Bootstrap Server).</td></tr>
    <tr><td class="paramname">data</td><td>Pointer to a buffer containing the credential that will be stored.</td></tr>
    <tr><td class="paramname">data_size</td><td>Size in bytes of the data located at <code>data</code>.</td></tr>
    <tr><td class="paramname">arg</td><td>Opaque argument configured through a corresponding <code>*_arg</code> field of <a class="el" href="structanjay__security__hsm__configuration__t.html">anjay_security_hsm_configuration_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>String that will be used as a query string for the provisioned security credential. The string will be copied shortly after this function returns, so it is safe to deallocate or overwrite it when control is returned to user code, or during the next call to this function, whichever happens first. Anjay will never attempt to modify or deallocate the returned value.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>The <code>data</code> and <code>data_size</code> are provided <b>only as a hint</b> for users who want the query strings to depend on the credential contents in any way. This callback <b>shall not attempt to store the certificate</b> itself. This will be performed by Anjay afterwards. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a76147593ffc5841362a38589178fbaf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76147593ffc5841362a38589178fbaf1">&#9670;&nbsp;</a></span>anjay_security_mark_hsm_permanent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anjay_security_mark_hsm_permanent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="core_8h.html#a7702b524bb4425a3174b6a09615c0d2e">anjay_ssid_t</a>&#160;</td>
          <td class="paramname"><em>ssid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Marks security credential for a given Server Account as "permanent", preventing them from being removed from the hardware security module.</p>
<p>The credentials that are moved into hardware security module according to the logic described for <a class="el" href="security_8h.html#ad7cf8eb206cabb407aad57777dc0a144">anjay_security_object_install_with_hsm</a> are, by default, automatically removed whenever they are deleted from the data model (e.g. by the Bootstrap Server or using <a class="el" href="security_8h.html#abef1771169fa2e7d5680c619ae5b2d06">anjay_security_object_purge</a>).</p>
<p>This function causes such credentials to be marked as "permanent", equivalent to credentials provisioned using the <code>avs_crypto_*_from_engine</code> APIs passed into the fields of the <a class="el" href="structanjay__security__instance__t.html">anjay_security_instance_t</a> structure. This will prevent them from being automatically erased from the hardware even if they are removed from the data model, or if the object is cleaned up without up-to-date persistence status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay instance with Security Object installed to operate on.</td></tr>
    <tr><td class="paramname">ssid</td><td>Short Server ID of the Server Account whose credentials to mark as permanent. <a class="el" href="core_8h.html#a857486d85f02514fc3f69ae7b2566f4c">ANJAY_SSID_BOOTSTRAP</a> may be used to refer to the Bootstrap Server (if present), and <a class="el" href="core_8h.html#a75735105ebc11358f8f707568a8b11fa">ANJAY_SSID_ANY</a> may be used to mark <b>all</b> the Server Account credentials as permanent. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae0bb9e4afad60fe21f2614d998c28b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0bb9e4afad60fe21f2614d998c28b14">&#9670;&nbsp;</a></span>anjay_security_object_add_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_security_object_add_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structanjay__security__instance__t.html">anjay_security_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="core_8h.html#a4738d24ad04e0e49991008e29cb054a4">anjay_iid_t</a> *&#160;</td>
          <td class="paramname"><em>inout_iid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds new Instance of Security Object and returns newly created Instance id via <code>inout_iid</code> .</p>
<p>Note: if <code>*inout_iid</code> is set to <a class="el" href="core_8h.html#a76bba83ae1b2f9d2037fdaea8a81e9d6">ANJAY_ID_INVALID</a> then the Instance id is generated automatically, otherwise value of <code>*inout_iid</code> is used as a new Security Instance Id.</p>
<p>Note: <code>instance</code> may be safely freed by the user code after this function finishes (internally a deep copy of <a class="el" href="structanjay__security__instance__t.html">anjay_security_instance_t</a> is performed).</p>
<p>Warning: calling this function during active communication with Bootstrap Server may yield undefined behavior and unexpected failures may occur.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay instance with Security Object installed to operate on. </td></tr>
    <tr><td class="paramname">instance</td><td>Security Instance to insert. </td></tr>
    <tr><td class="paramname">inout_iid</td><td>Security Instance id to use or <a class="el" href="core_8h.html#a76bba83ae1b2f9d2037fdaea8a81e9d6">ANJAY_ID_INVALID</a> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative value in case of an error or if the instance of specified id already exists. </dd></dl>

</div>
</div>
<a id="a5fffaeedfc5c2933e58ac1446fd0401d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fffaeedfc5c2933e58ac1446fd0401d">&#9670;&nbsp;</a></span>anjay_security_object_install()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_security_object_install </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Installs the Security Object in an Anjay instance.</p>
<p>The Security module does not require explicit cleanup; all resources will be automatically freed up during the call to <a class="el" href="core_8h.html#a243f18f976bca57b5a7b0714bfb99095">anjay_delete</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay instance for which the Security Object is installed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or a negative value in case of error. </dd></dl>

</div>
</div>
<a id="ad7cf8eb206cabb407aad57777dc0a144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7cf8eb206cabb407aad57777dc0a144">&#9670;&nbsp;</a></span>anjay_security_object_install_with_hsm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_security_object_install_with_hsm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structanjay__security__hsm__configuration__t.html">anjay_security_hsm_configuration_t</a> *&#160;</td>
          <td class="paramname"><em>hsm_config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Installs the Security Object in an Anjay instance, with support for moving security credentials to a hardware security module.</p>
<p>For each of the security credential type for which the query string generation callback is provided, any credentials provisioned either using <a class="el" href="security_8h.html#ae0bb9e4afad60fe21f2614d998c28b14">anjay_security_object_add_instance</a> or by the Bootstrap Server, will be stored in the hardware security module and wiped from the main system memory. These credentials will be managed by Anjay and automatically deleted when removed from the data model (either by the Bootstrap Server or <a class="el" href="security_8h.html#abef1771169fa2e7d5680c619ae5b2d06">anjay_security_object_purge</a>) or when the object is cleaned up without having been properly persisted (see the next paragraph for details).</p>
<p>The Security module does not require explicit cleanup; all resources will be automatically freed up during the call to <a class="el" href="core_8h.html#a243f18f976bca57b5a7b0714bfb99095">anjay_delete</a> - in this case this will also cause the removal of all the keys moved into the hardware security module, unless unchanged since the last call to <a class="el" href="security_8h.html#ab363a65e8e2a998cfdebc2d7b48f8fbc">anjay_security_object_persist</a> or <a class="el" href="security_8h.html#a9b05345d1f93b260e7bca6dae8472b59">anjay_security_object_restore</a>, or marked permanent using <a class="el" href="security_8h.html#a76147593ffc5841362a38589178fbaf1">anjay_security_mark_hsm_permanent</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay instance for which the Security Object is installed.</td></tr>
    <tr><td class="paramname">hsm_config</td><td>Configuration of the mechanism that moves security credentials to the hardware security module. When the pointer is <code>NULL</code> or all of the callback fields are <code>NULL</code>, this functions is equivalent to <a class="el" href="security_8h.html#a5fffaeedfc5c2933e58ac1446fd0401d">anjay_security_object_install</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or a negative value in case of error. </dd></dl>

</div>
</div>
<a id="a25a9fbd4f84f05a8a2ce50f526c7bc77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25a9fbd4f84f05a8a2ce50f526c7bc77">&#9670;&nbsp;</a></span>anjay_security_object_is_modified()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool anjay_security_object_is_modified </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks whether the Security Object in Anjay instance has been modified since last successful call to <a class="el" href="security_8h.html#ab363a65e8e2a998cfdebc2d7b48f8fbc">anjay_security_object_persist</a> or <a class="el" href="security_8h.html#a9b05345d1f93b260e7bca6dae8472b59">anjay_security_object_restore</a>. </p>

</div>
</div>
<a id="ab363a65e8e2a998cfdebc2d7b48f8fbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab363a65e8e2a998cfdebc2d7b48f8fbc">&#9670;&nbsp;</a></span>anjay_security_object_persist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">avs_error_t anjay_security_object_persist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">avs_stream_t *&#160;</td>
          <td class="paramname"><em>out_stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dumps Security Object Instances to the <code>out_stream</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay instance with Security Object installed. </td></tr>
    <tr><td class="paramname">out_stream</td><td>Stream to write to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AVS_OK in case of success, or an error code. </dd></dl>

</div>
</div>
<a id="abef1771169fa2e7d5680c619ae5b2d06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abef1771169fa2e7d5680c619ae5b2d06">&#9670;&nbsp;</a></span>anjay_security_object_purge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anjay_security_object_purge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Purges instances of Security Object leaving it in an empty state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay instance with Security Object installed to purge. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9b05345d1f93b260e7bca6dae8472b59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b05345d1f93b260e7bca6dae8472b59">&#9670;&nbsp;</a></span>anjay_security_object_restore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">avs_error_t anjay_security_object_restore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">avs_stream_t *&#160;</td>
          <td class="paramname"><em>in_stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempts to restore Security Object Instances from specified <code>in_stream</code>.</p>
<p>Note: if restore fails, then Security Object will be left untouched, on success though all Instances stored within the Object will be purged.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay instance with Security Object installed. </td></tr>
    <tr><td class="paramname">in_stream</td><td>Stream to read from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AVS_OK in case of success, or an error code. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ae037c79f53c15c524ca38a0620e930a.html">include_public</a></li><li class="navelem"><a class="el" href="dir_f1282f3667e08fb5f3f6a37ec99711a1.html">anjay</a></li><li class="navelem"><a class="el" href="security_8h.html">security.h</a></li>
    <li class="footer">Generated on Mon Oct 9 2023 15:02:05 for anjay by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
