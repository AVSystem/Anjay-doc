<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>anjay: include_public/anjay/core.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">anjay
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('core_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">core.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;avsystem/commons/net.h&gt;</code><br />
<code>#include &lt;avsystem/commons/list.h&gt;</code><br />
</div>
<p><a href="core_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structanjay__coap__tx__params__t.html">anjay_coap_tx_params_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structanjay__configuration.html">anjay_configuration</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af4c5c676c28f69b376a55ef5fb7509f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#af4c5c676c28f69b376a55ef5fb7509f3">ANJAY_SUPPORTED_ENABLER_VERSION</a>&#160;&#160;&#160;&quot;1.0&quot;</td></tr>
<tr class="separator:af4c5c676c28f69b376a55ef5fb7509f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7abd5fb313c7990fc4e2e52e5395da3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#af7abd5fb313c7990fc4e2e52e5395da3">ANJAY_COAP_DEFAULT_UDP_TX_PARAMS</a></td></tr>
<tr class="separator:af7abd5fb313c7990fc4e2e52e5395da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70cfcbd2c5e6f2004f8d39a43fa3e8f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ae70cfcbd2c5e6f2004f8d39a43fa3e8f">ANJAY_COAP_DEFAULT_SMS_TX_PARAMS</a></td></tr>
<tr class="separator:ae70cfcbd2c5e6f2004f8d39a43fa3e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75735105ebc11358f8f707568a8b11fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a75735105ebc11358f8f707568a8b11fa">ANJAY_SSID_ANY</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a75735105ebc11358f8f707568a8b11fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a857486d85f02514fc3f69ae7b2566f4c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a857486d85f02514fc3f69ae7b2566f4c">ANJAY_SSID_BOOTSTRAP</a>&#160;&#160;&#160;UINT16_MAX</td></tr>
<tr class="separator:a857486d85f02514fc3f69ae7b2566f4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628a6a13e409fb60cb58d0681af9177a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a628a6a13e409fb60cb58d0681af9177a">ANJAY_IID_INVALID</a>&#160;&#160;&#160;UINT16_MAX</td></tr>
<tr class="separator:a628a6a13e409fb60cb58d0681af9177a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa702d2d4be8e066aa7b1a1936889c121"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(Maj,  Min)&#160;&#160;&#160;((uint8_t) ((Maj &lt;&lt; 5) | (Min &amp; 0x1F)))</td></tr>
<tr class="separator:aa702d2d4be8e066aa7b1a1936889c121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:ab482b6c6e5d7bdb3a343588cad964a15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ab482b6c6e5d7bdb3a343588cad964a15">ANJAY_ERR_BAD_REQUEST</a>&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  0))</td></tr>
<tr class="separator:ab482b6c6e5d7bdb3a343588cad964a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f24cff6f35cf135a4cd1387dd181713"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a8f24cff6f35cf135a4cd1387dd181713">ANJAY_ERR_UNAUTHORIZED</a>&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  1))</td></tr>
<tr class="separator:a8f24cff6f35cf135a4cd1387dd181713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb7395e29c732b502bce5d9721d7dc70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#adb7395e29c732b502bce5d9721d7dc70">ANJAY_ERR_BAD_OPTION</a>&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  2))</td></tr>
<tr class="separator:adb7395e29c732b502bce5d9721d7dc70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8780185b993e21a2d27f7ac5678088a0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a8780185b993e21a2d27f7ac5678088a0">ANJAY_ERR_NOT_FOUND</a>&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  4))</td></tr>
<tr class="separator:a8780185b993e21a2d27f7ac5678088a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dfebe74e77b283c4e11ae900a675d49"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a2dfebe74e77b283c4e11ae900a675d49">ANJAY_ERR_METHOD_NOT_ALLOWED</a>&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  5))</td></tr>
<tr class="separator:a2dfebe74e77b283c4e11ae900a675d49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a273711070ff6c68666abd02e5e621b20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a273711070ff6c68666abd02e5e621b20">ANJAY_ERR_NOT_ACCEPTABLE</a>&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  6))</td></tr>
<tr class="separator:a273711070ff6c68666abd02e5e621b20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80688053f76faf9316ff5249737ee865"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a80688053f76faf9316ff5249737ee865">ANJAY_ERR_REQUEST_ENTITY_INCOMPLETE</a>&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  8))</td></tr>
<tr class="separator:a80688053f76faf9316ff5249737ee865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66a8257c2c958249dfaf84ebc3501c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ae66a8257c2c958249dfaf84ebc3501c9">ANJAY_ERR_INTERNAL</a>&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(5,  0))</td></tr>
<tr class="separator:ae66a8257c2c958249dfaf84ebc3501c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff04648e7b643fa5fbda0fa1971f76f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#aff04648e7b643fa5fbda0fa1971f76f1">ANJAY_ERR_NOT_IMPLEMENTED</a>&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(5,  1))</td></tr>
<tr class="separator:aff04648e7b643fa5fbda0fa1971f76f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b26069ef78147330a4c05aa13a6c57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#aa5b26069ef78147330a4c05aa13a6c57">ANJAY_ERR_SERVICE_UNAVAILABLE</a>&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(5,  3))</td></tr>
<tr class="separator:aa5b26069ef78147330a4c05aa13a6c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6c9664a3b0c2d5629c9639dce7b1dbfb"><td class="memItemLeft" align="right" valign="top">typedef struct anjay_struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a></td></tr>
<tr class="separator:a6c9664a3b0c2d5629c9639dce7b1dbfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f18a9f365482cbf0108af3d134c05c3"><td class="memItemLeft" align="right" valign="top">typedef struct anjay_smsdrv_struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a7f18a9f365482cbf0108af3d134c05c3">anjay_smsdrv_t</a></td></tr>
<tr class="separator:a7f18a9f365482cbf0108af3d134c05c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac003787b377980e1af6196f70d486aeb"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structanjay__configuration.html">anjay_configuration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ac003787b377980e1af6196f70d486aeb">anjay_configuration_t</a></td></tr>
<tr class="separator:ac003787b377980e1af6196f70d486aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7702b524bb4425a3174b6a09615c0d2e"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a7702b524bb4425a3174b6a09615c0d2e">anjay_ssid_t</a></td></tr>
<tr class="separator:a7702b524bb4425a3174b6a09615c0d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d98afc759c24fff65c6dcd5fc438f32"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a3d98afc759c24fff65c6dcd5fc438f32">anjay_oid_t</a></td></tr>
<tr class="separator:a3d98afc759c24fff65c6dcd5fc438f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4738d24ad04e0e49991008e29cb054a4"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a4738d24ad04e0e49991008e29cb054a4">anjay_iid_t</a></td></tr>
<tr class="separator:a4738d24ad04e0e49991008e29cb054a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e5fb971be8a1cf5778973482a5504d8"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a3e5fb971be8a1cf5778973482a5504d8">anjay_rid_t</a></td></tr>
<tr class="separator:a3e5fb971be8a1cf5778973482a5504d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8956a537324a4605fe2d8a320266e7a"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#af8956a537324a4605fe2d8a320266e7a">anjay_riid_t</a></td></tr>
<tr class="separator:af8956a537324a4605fe2d8a320266e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aafda163a4250595bad530abc47fc49cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#aafda163a4250595bad530abc47fc49cc">anjay_smsdrv_cleanup</a> (<a class="el" href="core_8h.html#a7f18a9f365482cbf0108af3d134c05c3">anjay_smsdrv_t</a> **smsdrv_ptr)</td></tr>
<tr class="separator:aafda163a4250595bad530abc47fc49cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2fa000fb24ae72702fd552c2f207472"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ad2fa000fb24ae72702fd552c2f207472">anjay_get_version</a> (void)</td></tr>
<tr class="separator:ad2fa000fb24ae72702fd552c2f207472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d95a5005ff7c3b1d76573616c57d4cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a9d95a5005ff7c3b1d76573616c57d4cc">anjay_new</a> (const <a class="el" href="core_8h.html#ac003787b377980e1af6196f70d486aeb">anjay_configuration_t</a> *config)</td></tr>
<tr class="separator:a9d95a5005ff7c3b1d76573616c57d4cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a243f18f976bca57b5a7b0714bfb99095"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a243f18f976bca57b5a7b0714bfb99095">anjay_delete</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay)</td></tr>
<tr class="separator:a243f18f976bca57b5a7b0714bfb99095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f224f9dc40e4c52f01e0180fca81fec"><td class="memItemLeft" align="right" valign="top">AVS_LIST[avs_net_abstract_socket_t *const ]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a9f224f9dc40e4c52f01e0180fca81fec">anjay_get_sockets</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay)</td></tr>
<tr class="separator:a9f224f9dc40e4c52f01e0180fca81fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45308768471c1cdce837abeef1d8567e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a45308768471c1cdce837abeef1d8567e">anjay_serve</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay, avs_net_abstract_socket_t *ready_socket)</td></tr>
<tr class="separator:a45308768471c1cdce837abeef1d8567e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabbf022e4174f46fd952a2215d53c15d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#aabbf022e4174f46fd952a2215d53c15d">anjay_sched_time_to_next</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay, struct timespec *out_delay)</td></tr>
<tr class="separator:aabbf022e4174f46fd952a2215d53c15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3998f24f83f30c17d96077ad673345ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a3998f24f83f30c17d96077ad673345ce">anjay_sched_time_to_next_ms</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay, int *out_delay_ms)</td></tr>
<tr class="separator:a3998f24f83f30c17d96077ad673345ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8122688986696cc12c0a1a5a5bef91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#aea8122688986696cc12c0a1a5a5bef91">anjay_sched_calculate_wait_time_ms</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay, int limit_ms)</td></tr>
<tr class="separator:aea8122688986696cc12c0a1a5a5bef91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70470009dd11bd05aa6e8526bcc23de4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a70470009dd11bd05aa6e8526bcc23de4">anjay_sched_run</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay)</td></tr>
<tr class="separator:a70470009dd11bd05aa6e8526bcc23de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d9ea59e679bb16ef5e54d05fe4d24b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#aa6d9ea59e679bb16ef5e54d05fe4d24b">anjay_schedule_registration_update</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay, <a class="el" href="core_8h.html#a7702b524bb4425a3174b6a09615c0d2e">anjay_ssid_t</a> ssid)</td></tr>
<tr class="separator:aa6d9ea59e679bb16ef5e54d05fe4d24b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6dad6c4f234e89b99a4a07f762479e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a5c6dad6c4f234e89b99a4a07f762479e">anjay_schedule_reconnect</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay)</td></tr>
<tr class="separator:a5c6dad6c4f234e89b99a4a07f762479e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c960628c63263e3ceb1f98c8970df48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a9c960628c63263e3ceb1f98c8970df48">anjay_disable_server</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay, <a class="el" href="core_8h.html#a7702b524bb4425a3174b6a09615c0d2e">anjay_ssid_t</a> ssid)</td></tr>
<tr class="separator:a9c960628c63263e3ceb1f98c8970df48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba649cbf63af56cdd6103b16ff970d88"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#aba649cbf63af56cdd6103b16ff970d88">anjay_is_offline</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay)</td></tr>
<tr class="separator:aba649cbf63af56cdd6103b16ff970d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82fbb9e51e1f2b71858d94208c284684"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a82fbb9e51e1f2b71858d94208c284684">anjay_enter_offline</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay)</td></tr>
<tr class="separator:a82fbb9e51e1f2b71858d94208c284684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f6ef4e35b54db0ff90913086489b53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a15f6ef4e35b54db0ff90913086489b53">anjay_exit_offline</a> (<a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *anjay)</td></tr>
<tr class="separator:a15f6ef4e35b54db0ff90913086489b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ae70cfcbd2c5e6f2004f8d39a43fa3e8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_COAP_DEFAULT_SMS_TX_PARAMS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                    \</div><div class="line">        <span class="comment">/* .ack_timeout_ms = */</span> 62000,   \</div><div class="line">        <span class="comment">/* .ack_random_factor = */</span> 1.5,  \</div><div class="line">        <span class="comment">/* .max_retransmit = */</span> 0        \</div><div class="line">    }</div></div><!-- fragment --><p>Default transmission params for SMS connections.</p>
<p>This set of parameters ensures MAX_TRANSMIT_WAIT is equal to the default (i.e. CoAP specified) MAX_TRANSMIT_WAIT, while disabling retransmissions. </p>

</div>
</div>
<a class="anchor" id="af7abd5fb313c7990fc4e2e52e5395da3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_COAP_DEFAULT_UDP_TX_PARAMS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                    \</div><div class="line">        <span class="comment">/* .ack_timeout_ms = */</span> 2000,    \</div><div class="line">        <span class="comment">/* .ack_random_factor = */</span> 1.5,  \</div><div class="line">        <span class="comment">/* .max_retransmit = */</span> 4        \</div><div class="line">    }</div></div><!-- fragment --><p>Default transmission params recommended by the CoAP specification (RFC 7252). </p>

</div>
</div>
<a class="anchor" id="aa702d2d4be8e066aa7b1a1936889c121"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_COAP_STATUS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Maj, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Min&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((uint8_t) ((Maj &lt;&lt; 5) | (Min &amp; 0x1F)))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper macro used to define ANJAY_ERR_ constants. Generated values are valid CoAP Status Codes encoded as a single byte. </p>

</div>
</div>
<a class="anchor" id="adb7395e29c732b502bce5d9721d7dc70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_ERR_BAD_OPTION&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  2))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Low-level CoAP error code; used internally by Anjay when CoAP option values were invalid. </p>

</div>
</div>
<a class="anchor" id="ab482b6c6e5d7bdb3a343588cad964a15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_ERR_BAD_REQUEST&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  0))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error values that may be returned from data model handlers. Request sent by the LwM2M Server was malformed or contained an invalid value. </p>

</div>
</div>
<a class="anchor" id="ae66a8257c2c958249dfaf84ebc3501c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_ERR_INTERNAL&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(5,  0))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unspecified error, no other error code was suitable. </p>

</div>
</div>
<a class="anchor" id="a2dfebe74e77b283c4e11ae900a675d49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_ERR_METHOD_NOT_ALLOWED&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  5))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Operation is not allowed in current device state or the attempted operation is invalid for this target (Object/Instance/Resource) </p>

</div>
</div>
<a class="anchor" id="a273711070ff6c68666abd02e5e621b20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_ERR_NOT_ACCEPTABLE&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  6))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Low-level CoAP error code; used internally by Anjay when the client is unable to encode response in requested content format. </p>

</div>
</div>
<a class="anchor" id="a8780185b993e21a2d27f7ac5678088a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_ERR_NOT_FOUND&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  4))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Target of the operation (Object/Instance/Resource) does not exist. </p>

</div>
</div>
<a class="anchor" id="aff04648e7b643fa5fbda0fa1971f76f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_ERR_NOT_IMPLEMENTED&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(5,  1))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Operation is not implemented by the LwM2M Client. </p>

</div>
</div>
<a class="anchor" id="a80688053f76faf9316ff5249737ee865"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_ERR_REQUEST_ENTITY_INCOMPLETE&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  8))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Low-level CoAP error code; used internally by Anjay in case of unrecoverable problems during block-wise transfer. </p>

</div>
</div>
<a class="anchor" id="aa5b26069ef78147330a4c05aa13a6c57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_ERR_SERVICE_UNAVAILABLE&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(5,  3))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LwM2M Client is busy processing some other request; LwM2M Server may retry sending the same request after some delay. </p>

</div>
</div>
<a class="anchor" id="a8f24cff6f35cf135a4cd1387dd181713"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_ERR_UNAUTHORIZED&#160;&#160;&#160;(-<a class="el" href="core_8h.html#aa702d2d4be8e066aa7b1a1936889c121">ANJAY_COAP_STATUS</a>(4,  1))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LwM2M Server is not allowed to perform the operation due to lack of necessary access rights. </p>

</div>
</div>
<a class="anchor" id="a628a6a13e409fb60cb58d0681af9177a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_IID_INVALID&#160;&#160;&#160;UINT16_MAX</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Object Instance ID value reserved by the LwM2M spec </p>

</div>
</div>
<a class="anchor" id="a75735105ebc11358f8f707568a8b11fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_SSID_ANY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A constant that may be used in <a class="el" href="core_8h.html#aa6d9ea59e679bb16ef5e54d05fe4d24b">anjay_schedule_registration_update</a> call instead of Short Server ID to send Update messages to all connected servers. </p>

</div>
</div>
<a class="anchor" id="a857486d85f02514fc3f69ae7b2566f4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_SSID_BOOTSTRAP&#160;&#160;&#160;UINT16_MAX</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An SSID value reserved by LwM2M to refer to the Bootstrap Server. NOTE: The value of a "Short Server ID" Resource in the Security Object Instance referring to the Bootstrap Server is irrelevant and cannot be used to identify the Bootstrap Server. </p>

</div>
</div>
<a class="anchor" id="af4c5c676c28f69b376a55ef5fb7509f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANJAY_SUPPORTED_ENABLER_VERSION&#160;&#160;&#160;&quot;1.0&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LwM2M Enabler Version </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ac003787b377980e1af6196f70d486aeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structanjay__configuration.html">anjay_configuration</a>  <a class="el" href="core_8h.html#ac003787b377980e1af6196f70d486aeb">anjay_configuration_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4738d24ad04e0e49991008e29cb054a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="core_8h.html#a4738d24ad04e0e49991008e29cb054a4">anjay_iid_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Object Instance ID </p>

</div>
</div>
<a class="anchor" id="a3d98afc759c24fff65c6dcd5fc438f32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="core_8h.html#a3d98afc759c24fff65c6dcd5fc438f32">anjay_oid_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Object ID </p>

</div>
</div>
<a class="anchor" id="a3e5fb971be8a1cf5778973482a5504d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="core_8h.html#a3e5fb971be8a1cf5778973482a5504d8">anjay_rid_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resource ID </p>

</div>
</div>
<a class="anchor" id="af8956a537324a4605fe2d8a320266e7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="core_8h.html#af8956a537324a4605fe2d8a320266e7a">anjay_riid_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resource Instance ID </p>

</div>
</div>
<a class="anchor" id="a7f18a9f365482cbf0108af3d134c05c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct anjay_smsdrv_struct <a class="el" href="core_8h.html#a7f18a9f365482cbf0108af3d134c05c3">anjay_smsdrv_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Driver for communication over the SMS transport. Used only by the commercial version of Anjay. </p>

</div>
</div>
<a class="anchor" id="a7702b524bb4425a3174b6a09615c0d2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="core_8h.html#a7702b524bb4425a3174b6a09615c0d2e">anjay_ssid_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Short Server ID type. </p>

</div>
</div>
<a class="anchor" id="a6c9664a3b0c2d5629c9639dce7b1dbfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct anjay_struct <a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Anjay object containing all information required for LwM2M communication. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a243f18f976bca57b5a7b0714bfb99095"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anjay_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cleans up all resources and releases the Anjay object.</p>
<p>NOTE: It shall be called <b>before</b> freeing LwM2M Objects registered within the <code>anjay</code> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay object to delete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9c960628c63263e3ceb1f98c8970df48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_disable_server </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="core_8h.html#a7702b524bb4425a3174b6a09615c0d2e">anjay_ssid_t</a>&#160;</td>
          <td class="paramname"><em>ssid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function shall be called when an LwM2M Server Object shall be disabled. The standard case for this is when Execute is performed on the Disable resource (/1/x/4).</p>
<p>The server will be disabled for the period of time determined by the value of the Disable Timeout resource (/1/x/5). The resource is read soon after the invocation of this function (during next <a class="el" href="core_8h.html#a70470009dd11bd05aa6e8526bcc23de4">anjay_sched_run</a>) and is <b>not</b> updated upon any subsequent Writes to that resource.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay object to operate on. </td></tr>
    <tr><td class="paramname">ssid</td><td>Short Server ID of the server to put in a disabled state. NOTE: disabling a server requires a Server Object Instance to be present for given <code>ssid</code> . Because the Bootstrap Server does not have one, this function does nothing when called with <a class="el" href="core_8h.html#a857486d85f02514fc3f69ae7b2566f4c">ANJAY_SSID_BOOTSTRAP</a> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative value in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="a82fbb9e51e1f2b71858d94208c284684"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_enter_offline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Puts the LwM2M client into offline mode. This should be done when the Internet connection is deemed to be unavailable or lost.</p>
<p>During the next call to <a class="el" href="core_8h.html#a70470009dd11bd05aa6e8526bcc23de4">anjay_sched_run</a>, Anjay will close all of its sockets and stop attempting to make any contact with remote hosts. It will remain in this state until the call to <a class="el" href="core_8h.html#a15f6ef4e35b54db0ff90913086489b53">anjay_exit_offline</a>.</p>
<p>User code shall still interface normally with the library while in the offline state, which includes regular calls to <a class="el" href="core_8h.html#a70470009dd11bd05aa6e8526bcc23de4">anjay_sched_run</a>. Notifications (as reported using <a class="el" href="dm_8h.html#a0d3faf342184356ea20b9028cf45051a">anjay_notify_changed</a> and <a class="el" href="dm_8h.html#a0487d4ec4a386915557f3a03a5c0cfbd">anjay_notify_instances_changed</a>) continue to be tracked, and may be sent after reconnecting, depending on values of the "Notification Storing When
Disabled or Offline" resource.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay object to operate on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative value in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="a15f6ef4e35b54db0ff90913086489b53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_exit_offline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Exits the offline state entered using the <a class="el" href="core_8h.html#a82fbb9e51e1f2b71858d94208c284684">anjay_enter_offline</a> function.</p>
<p>During subsequent calls to <a class="el" href="core_8h.html#a70470009dd11bd05aa6e8526bcc23de4">anjay_sched_run</a>, new connections to all configured LwM2M Servers will be attempted, and Registration Update (or Register, if the registration lifetime passed in the meantime) messages will be sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay object to operate on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative value in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="a9f224f9dc40e4c52f01e0180fca81fec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AVS_LIST [ avs_net_abstract_socket_t *const ] anjay_get_sockets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves a list of sockets used for communication with LwM2M servers. Returned list must not be freed nor modified.</p>
<p>Example usage: poll()-based application loop</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;struct pollfd poll_fd = { .events = POLLIN, .fd = -1 };</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;while (true) {</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    AVS_LIST(avs_net_abstract_socket_t*) sockets = anjay_get_sockets(anjay);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    if (sockets) {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        // assuming there is only one socket</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        poll_fd.fd = *(const int*)avs_net_socket_get_system(*sockets);</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    } else {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        // sockets not initialized yet</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        poll_fd.fd = -1;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    }</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    if (poll(&amp;poll_fd, 1, 1000) &gt; 0) {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;         if (poll_fd.revents &amp; POLLIN) {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;             if (anjay_serve(anjay, *sockets)) {</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                 log(&quot;anjay_serve failed&quot;);</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;             }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;         }</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    }</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;}</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay object to operate on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list of valid server sockets on success, NULL when the device is not connected to any server. </dd></dl>

</div>
</div>
<a class="anchor" id="ad2fa000fb24ae72702fd552c2f207472"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* anjay_get_version </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>pointer to the string representing current version of the library. </dd></dl>

</div>
</div>
<a class="anchor" id="aba649cbf63af56cdd6103b16ff970d88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool anjay_is_offline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks whether anjay is currently in offline state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay object to operate on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if Anjay's instance is offline, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a9d95a5005ff7c3b1d76573616c57d4cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a>* anjay_new </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="core_8h.html#ac003787b377980e1af6196f70d486aeb">anjay_configuration_t</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new Anjay object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Initial configuration. For details, see <a class="el" href="core_8h.html#ac003787b377980e1af6196f70d486aeb">anjay_configuration_t</a> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Created Anjay object on success, NULL in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="aea8122688986696cc12c0a1a5a5bef91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_sched_calculate_wait_time_ms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates time in milliseconds the client code may wait for incoming events before the need to call <a class="el" href="core_8h.html#a70470009dd11bd05aa6e8526bcc23de4">anjay_sched_run</a> .</p>
<p>This function combines <a class="el" href="core_8h.html#a3998f24f83f30c17d96077ad673345ce">anjay_sched_time_to_next_ms</a> with a user-provided limit, so that a conclusive value will always be returned. It is provided as a convenience for users of system calls such as <code>poll()</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay object to operate on. </td></tr>
    <tr><td class="paramname">limit_ms</td><td>The longest amount of time the function shall return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Relative time from now of next scheduled task, in milliseconds, if such task exists and it's scheduled to run earlier than <code>limit_ms</code> seconds from now, or <code>limit_ms</code> otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a70470009dd11bd05aa6e8526bcc23de4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_sched_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Runs all scheduled events which need to be invoked at or before the time of this function invocation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay object to operate on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative value in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="aabbf022e4174f46fd952a2215d53c15d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_sched_time_to_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>out_delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines time of next scheduled task.</p>
<p>May be used to determine how long the device may wait before calling <a class="el" href="core_8h.html#a70470009dd11bd05aa6e8526bcc23de4">anjay_sched_run</a> .</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">anjay</td><td>Anjay object to operate on. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_delay</td><td>Relative time from now of next scheduled task.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or a negative value if no tasks are scheduled. </dd></dl>

</div>
</div>
<a class="anchor" id="a3998f24f83f30c17d96077ad673345ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_sched_time_to_next_ms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>out_delay_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines time of next scheduled task in milliseconds.</p>
<p>This function is equivalent to <a class="el" href="core_8h.html#aabbf022e4174f46fd952a2215d53c15d">anjay_sched_time_to_next</a> but, as a convenience for users of system calls such as <code>poll()</code>, the result is returned as a single integer number of milliseconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">anjay</td><td>Anjay object to operate on. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_delay_ms</td><td>Relative time from now of next scheduled task, in milliseconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or a negative value if no tasks are scheduled. </dd></dl>

</div>
</div>
<a class="anchor" id="a5c6dad6c4f234e89b99a4a07f762479e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_schedule_reconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reconnects sockets associated with all connected servers. Should be called if something related to the device's IP connection has changed.</p>
<p>The reconnection will be performed during the next <a class="el" href="core_8h.html#a70470009dd11bd05aa6e8526bcc23de4">anjay_sched_run</a> call and will trigger Registration Update.</p>
<p>Note: This function makes Anjay enter online mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay object to operate on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa6d9ea59e679bb16ef5e54d05fe4d24b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_schedule_registration_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="core_8h.html#a7702b524bb4425a3174b6a09615c0d2e">anjay_ssid_t</a>&#160;</td>
          <td class="paramname"><em>ssid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Schedules sending an Update message to the server identified by given Short Server ID.</p>
<p>The Update will be sent during the next <a class="el" href="core_8h.html#a70470009dd11bd05aa6e8526bcc23de4">anjay_sched_run</a> call.</p>
<p>Note: This function will not schedule registration update if Anjay is in offline mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay object to operate on. </td></tr>
    <tr><td class="paramname">ssid</td><td>Short Server ID of the server to send Update to or <a class="el" href="core_8h.html#a75735105ebc11358f8f707568a8b11fa">ANJAY_SSID_ANY</a> to send Updates to all connected servers. NOTE: Since Updates are not useful for the Bootstrap Server, this function does not send one for <a class="el" href="core_8h.html#a857486d85f02514fc3f69ae7b2566f4c">ANJAY_SSID_BOOTSTRAP</a> <code>ssid</code> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative value in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="a45308768471c1cdce837abeef1d8567e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anjay_serve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a6c9664a3b0c2d5629c9639dce7b1dbfb">anjay_t</a> *&#160;</td>
          <td class="paramname"><em>anjay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">avs_net_abstract_socket_t *&#160;</td>
          <td class="paramname"><em>ready_socket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a message from given <code>ready_socket</code> and handles it appropriately.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anjay</td><td>Anjay object to operate on. </td></tr>
    <tr><td class="paramname">ready_socket</td><td>A socket to read the message from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative value in case of error. Note that it includes non-fatal errors, such as receiving a malformed packet. </dd></dl>

</div>
</div>
<a class="anchor" id="aafda163a4250595bad530abc47fc49cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anjay_smsdrv_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="core_8h.html#a7f18a9f365482cbf0108af3d134c05c3">anjay_smsdrv_t</a> **&#160;</td>
          <td class="paramname"><em>smsdrv_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cleans up all resources and releases an SMS driver object.</p>
<p>NOTE: If an Anjay object has been using the SMS driver, the SMS driver shall be cleaned up <b>after</b> freeing the Anjay object using <a class="el" href="core_8h.html#a243f18f976bca57b5a7b0714bfb99095">anjay_delete</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">smsdrv_ptr</td><td>Pointer to an SMS driver object to delete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ae037c79f53c15c524ca38a0620e930a.html">include_public</a></li><li class="navelem"><a class="el" href="dir_f1282f3667e08fb5f3f6a37ec99711a1.html">anjay</a></li><li class="navelem"><a class="el" href="core_8h.html">core.h</a></li>
    <li class="footer">Generated on Thu Jul 27 2017 12:56:07 for anjay by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
