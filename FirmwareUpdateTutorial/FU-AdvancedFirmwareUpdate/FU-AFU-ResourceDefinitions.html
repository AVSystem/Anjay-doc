<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6.7.1. Resource definitions &mdash; Anjay 3.11.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=8905d4f5"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="6.7.2. Firmware Update State Diagram" href="FU-AFU-StateDiagram.html" />
    <link rel="prev" title="6.7. Advanced Firmware Update" href="../FU-AdvancedFirmwareUpdate.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #ffd500" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/avsystem_header.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.11.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LwM2M.html">2. OMA LwM2M - Brief description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Compiling_client_applications.html">3. Compiling client applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../BasicClient.html">4. Basic client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../AdvancedTopics.html">5. Advanced topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../FirmwareUpdateTutorial.html">6. Firmware Update Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../FU-Introduction.html">6.1. Firmware Update</a></li>
<li class="toctree-l2"><a class="reference internal" href="../FU-BasicImplementation.html">6.2. Basic implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../FU-ModesAndProtocols.html">6.3. Download modes and protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../FU-SecureDownloads.html">6.4. Secure downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../FU-PoorConnectivity.html">6.5. Poor network connectivity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../FU-DownloadResumption.html">6.6. Download resumption</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../FU-AdvancedFirmwareUpdate.html">6.7. Advanced Firmware Update</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">6.7.1. Resource definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="FU-AFU-StateDiagram.html">6.7.2. Firmware Update State Diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="FU-AFU-Examples.html">6.7.3. Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="FU-AFU-BasicImplementation.html">6.7.4. Implementation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../LwM2MGateway.html">7. LwM2M Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tools.html">8. Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../API_description.html">9. API description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PortingGuideForNonPOSIXPlatforms.html">10. Porting guide for non-POSIX platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Migrating.html">11. Migrating from older versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CommercialFeatures.html">12. Commercial features</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #ffd500" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Anjay</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../FirmwareUpdateTutorial.html"><span class="section-number">6. </span>Firmware Update Tutorial</a></li>
          <li class="breadcrumb-item"><a href="../FU-AdvancedFirmwareUpdate.html"><span class="section-number">6.7. </span>Advanced Firmware Update</a></li>
      <li class="breadcrumb-item active"><span class="section-number">6.7.1. </span>Resource definitions</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="resource-definitions">
<h1><span class="section-number">6.7.1. </span>Resource definitions<a class="headerlink" href="#resource-definitions" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#package-33629-x-0" id="id1">Package (/33629/x/0)</a></p></li>
<li><p><a class="reference internal" href="#package-uri-33629-x-1" id="id2">Package URI (/33629/x/1)</a></p></li>
<li><p><a class="reference internal" href="#update-33629-x-2" id="id3">Update (/33629/x/2)</a></p></li>
<li><p><a class="reference internal" href="#state-33629-x-3" id="id4">State (/33629/x/3)</a></p></li>
<li><p><a class="reference internal" href="#update-result-33629-x-5" id="id5">Update Result (/33629/x/5)</a></p></li>
<li><p><a class="reference internal" href="#pkgname-33629-x-6" id="id6">PkgName (/33629/x/6)</a></p></li>
<li><p><a class="reference internal" href="#pkgversion-33629-x-7" id="id7">PkgVersion (/33629/x/7)</a></p></li>
<li><p><a class="reference internal" href="#firmware-update-protocol-support-33629-x-8" id="id8">Firmware Update Protocol Support (/33629/x/8)</a></p></li>
<li><p><a class="reference internal" href="#firmware-update-delivery-method-33629-x-9" id="id9">Firmware Update Delivery Method (/33629/x/9)</a></p></li>
<li><p><a class="reference internal" href="#cancel-33629-x-10" id="id10">Cancel (/33629/x/10)</a></p></li>
<li><p><a class="reference internal" href="#severity-33629-x-11" id="id11">Severity (/33629/x/11)</a></p></li>
<li><p><a class="reference internal" href="#last-state-change-time-33629-x-12" id="id12">Last State Change Time (/33629/x/12)</a></p></li>
<li><p><a class="reference internal" href="#maximum-defer-period-33629-x-13" id="id13">Maximum Defer Period (/33629/x/13)</a></p></li>
<li><p><a class="reference internal" href="#component-name-33629-x-14" id="id14">Component Name (/33629/x/14)</a></p></li>
<li><p><a class="reference internal" href="#current-version-33629-x-15" id="id15">Current Version (/33629/x/15)</a></p></li>
<li><p><a class="reference internal" href="#linked-instances-33629-x-16" id="id16">Linked Instances (/33629/x/16)</a></p></li>
<li><p><a class="reference internal" href="#conflicting-instances-33629-x-17" id="id17">Conflicting Instances (/33629/x/17)</a></p></li>
</ul>
</nav>
<section id="package-33629-x-0">
<h2><a class="toc-backref" href="#id1" role="doc-backlink"><span class="section-number">6.7.1.1. </span>Package (/33629/x/0)</a><a class="headerlink" href="#package-33629-x-0" title="Link to this heading"></a></h2>
<dl class="field-list simple">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>W</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>Yes</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Opaque</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>-</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>Firmware package</p>
</dd>
</dl>
</section>
<section id="package-uri-33629-x-1">
<h2><a class="toc-backref" href="#id2" role="doc-backlink"><span class="section-number">6.7.1.2. </span>Package URI (/33629/x/1)</a><a class="headerlink" href="#package-uri-33629-x-1" title="Link to this heading"></a></h2>
<dl class="field-list simple">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>RW</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>Yes</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>String</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>0..255</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>URI from where the device can download the firmware package by an alternative
mechanism. As soon as the device has received the Package URI it performs the
download at the next practical opportunity. The URI format is defined in
<code class="docutils literal notranslate"><span class="pre">RFC</span> <span class="pre">3986</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">coaps://example.org/firmware</span></code> is a
syntactically valid URI. The URI scheme determines the protocol to be used.
For CoAP this endpoint MAY be an LwM2M Server but does not necessarily need to
be. A CoAP server implementing block-wise transfer is sufficient as a server
hosting a firmware repository and the expectation is that this server merely
serves as a separate file server making firmware packages available to LwM2M
Clients.</p>
</dd>
</dl>
</section>
<section id="update-33629-x-2">
<h2><a class="toc-backref" href="#id3" role="doc-backlink"><span class="section-number">6.7.1.3. </span>Update (/33629/x/2)</a><a class="headerlink" href="#update-33629-x-2" title="Link to this heading"></a></h2>
<dl class="field-list">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>2</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>E</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>Yes</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>-</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>Updates firmware by using the firmware package stored in Package, or, by
using the firmware downloaded from the Package URI. This Resource is only
executable when the value of the State Resource is Downloaded.</p>
<p>If multiple instances of the Advanced Firmware Update object are in the
Downloaded state, the device MAY update multiple components in one go. In
this case, the Linked Instances resource MUST list all other components that
will be updated alongside the current one.</p>
<p>The server MAY override this behavior by including an argument 0 in the
Execute operation. If the argument is present with no value, the client MUST
attempt to update only the component handled by the current instance. If the
argument is present with a value containing a list of Advanced Firmware
Update object instances specified as a Core Link Format (so that the argument
may read, for example: <code class="docutils literal notranslate"><span class="pre">0=&lt;/33629/1&gt;,&lt;/33629/2&gt;</span></code>), the client MUST attempt
to update the components handled by the current instance and the instances
listed in the argument, and MUST NOT attempt to update any other components.
If the client is not able to satisfy such a request, the update process shall
fail with the Update Result resource set to 13.</p>
<p>If the downloaded packages are incompatible with at least one of the packages
installed on other components, and compatible updates for them are not
downloaded (i.e., the State resource in an instance corresponding to the
conflicting component is not Downloaded), the update process shall also fail
with the Update Result resource set to 13.</p>
<p>When multiple components are upgraded as part of a single Update operation,
the device SHOULD upgrade them in a transactional fashion (i.e., all are
updated successfully, or all are reverted in case of error), and MUST perform
the upgrade in a way that ensures that the device will not be rendered
unbootable due to partial errors.</p>
</dd>
</dl>
</section>
<section id="state-33629-x-3">
<h2><a class="toc-backref" href="#id4" role="doc-backlink"><span class="section-number">6.7.1.4. </span>State (/33629/x/3)</a><a class="headerlink" href="#state-33629-x-3" title="Link to this heading"></a></h2>
<dl class="field-list">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>3</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>R</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>Yes</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Integer</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>0..3</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>Indicates current state with respect to this firmware update. This value is
set by the LwM2M Client.</p>
<div class="line-block">
<div class="line"><strong>0:</strong> Idle (before downloading or after successful updating)</div>
<div class="line"><strong>1:</strong> Downloading (The data sequence is on the way)</div>
<div class="line"><strong>2:</strong> Downloaded</div>
<div class="line"><strong>3:</strong> Updating</div>
</div>
<p>If writing the firmware package to Package Resource has completed, or, if the
device has downloaded the firmware package from the Package URI the state
changes to Downloaded. The device MAY support packages containing code for
multiple components in a single file, in which case downloading the package in
any instance of the Advanced Firmware Update object that is valid for it,
MUST set the State resource to 2 in instances handling all components that
are affected by the downloaded package; if the State of any of such instances
was different than 0, the package MUST be rejected and the Update Result
resource set to 12.</p>
<p>Writing an empty string to Package URI Resource or setting the Package
Resource to <strong>NULL</strong> (<code class="docutils literal notranslate"><span class="pre">\0</span></code>), resets the Advanced Firmware Update State
Machine: the State Resource value is set to Idle and the Update Result
Resource value is set to 0. The device should remove the downloaded firmware
package when the state is reset to Idle.</p>
<p>When in Downloaded state, and the executable Resource Update is triggered,
the state changes to Updating if the update starts immediately. For devices
that support a user interface and the deferred update functionality, the user
may be allowed to defer the firmware update to a later time. In this case,
the state stays in the Downloaded state and the Update Result is set to 11.
Once a user accepts the firmware update, the state changes to Updating. When
the user deferred the update, the device will continue operations normally
until the user approves the firmware update or an automatic update starts. It
will not block any operation on the device.</p>
<p>If the Update Resource failed, the state may return to either Downloaded or
Idle depending on the underlying reason of update failure, e.g. Integrity
Check Failure results in the client moving to the Idle state. If performing
the Update or Cancel operation was successful, the state changes to Idle. The
Advanced Firmware Update state machine is illustrated in the respective LwM2M
specification.</p>
</dd>
</dl>
</section>
<section id="update-result-33629-x-5">
<h2><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">6.7.1.5. </span>Update Result (/33629/x/5)</a><a class="headerlink" href="#update-result-33629-x-5" title="Link to this heading"></a></h2>
<dl class="field-list">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>5</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>R</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>Yes</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Integer</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>0..13</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>Contains the result of downloading or updating the firmware.</p>
<div class="line-block">
<div class="line"><strong>0</strong>: Initial value. Once the updating process is initiated (Download
/Update), this Resource MUST be reset to Initial value.</div>
<div class="line"><strong>1:</strong> Firmware updated successfully.</div>
<div class="line"><strong>2:</strong> Not enough flash memory for the new firmware package.</div>
<div class="line"><strong>3:</strong> Out of RAM during the downloading process.</div>
<div class="line"><strong>4:</strong> Connection lost during the downloading process.</div>
<div class="line"><strong>5:</strong> Integrity check failure for new downloaded package.</div>
<div class="line"><strong>6:</strong> Unsupported package type.</div>
<div class="line"><strong>7:</strong> Invalid URI.</div>
<div class="line"><strong>8:</strong> Firmware update failed.</div>
<div class="line"><strong>9:</strong> Unsupported protocol. An LwM2M client indicates the failure to
retrieve the firmware package using the URI provided in the Package URI
resource by writing the value 9 to the <code class="docutils literal notranslate"><span class="pre">/33629/0/5</span></code> (Update Result
resource) when the URI contained a URI scheme unsupported by the client.
Consequently, the LwM2M Client is unable to retrieve the firmware package
using the URI provided by the LwM2M Server in the Package URI when it
refers to an unsupported protocol.</div>
<div class="line"><strong>10:</strong> Firmware update cancelled. A Cancel operation has been executed
successfully.</div>
<div class="line"><strong>11:</strong> Firmware update deferred.</div>
<div class="line"><strong>12:</strong> Conflicting state. Multi-component firmware package download is
rejected before entering the Downloaded state because it conflicts with an
already downloaded package in a different object instance.</div>
<div class="line"><strong>13:</strong> Dependency error. The Update operation failed because the component
package requires some other component to be updated first or at the same
time.</div>
</div>
</dd>
</dl>
</section>
<section id="pkgname-33629-x-6">
<h2><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">6.7.1.6. </span>PkgName (/33629/x/6)</a><a class="headerlink" href="#pkgname-33629-x-6" title="Link to this heading"></a></h2>
<dl class="field-list simple">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>6</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>R</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>No</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>String</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>-</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>Name of the Firmware Package. If this resource is supported, it shall contain
the name of the downloaded package when the State is 2 (Downloaded) or 3
(Updating); otherwise it MAY be empty.</p>
</dd>
</dl>
</section>
<section id="pkgversion-33629-x-7">
<h2><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">6.7.1.7. </span>PkgVersion (/33629/x/7)</a><a class="headerlink" href="#pkgversion-33629-x-7" title="Link to this heading"></a></h2>
<dl class="field-list simple">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>7</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>R</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>No</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>String</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>-</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>Version of the Firmware package. If this resource is supported, it shall
contain the version of the downloaded package when the State is 2
(Downloaded) or 3 (Updating); otherwise it MAY be empty.</p>
</dd>
</dl>
</section>
<section id="firmware-update-protocol-support-33629-x-8">
<h2><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">6.7.1.8. </span>Firmware Update Protocol Support (/33629/x/8)</a><a class="headerlink" href="#firmware-update-protocol-support-33629-x-8" title="Link to this heading"></a></h2>
<dl class="field-list">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>8</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>R</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Multiple</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>No</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Integer</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>0..5</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>This resource indicates what protocols the LwM2M Client implements to
retrieve firmware packages. The LwM2M server uses this information to decide
what URI to include in the Package URI. An LwM2M Server MUST NOT include a URI
in the Package URI object that uses a protocol that is unsupported by the
LwM2M client. For example, if an LwM2M client indicates that it supports CoAP
and CoAPS then an LwM2M Server must not provide an HTTP URI in the Packet URI.
The following values are defined by this version of the specification:</p>
<div class="line-block">
<div class="line"><strong>0:</strong> CoAP (as defined in <code class="docutils literal notranslate"><span class="pre">RFC</span> <span class="pre">7252</span></code>) with the additional support for
block-wise transfer. CoAP is the default setting.</div>
<div class="line"><strong>1:</strong> CoAPS (as defined in <code class="docutils literal notranslate"><span class="pre">RFC</span> <span class="pre">7252</span></code>) with the additional support for
block-wise transfer</div>
<div class="line"><strong>2:</strong> HTTP 1.1 (as defined in <code class="docutils literal notranslate"><span class="pre">RFC</span> <span class="pre">7230</span></code>)</div>
<div class="line"><strong>3:</strong> HTTPS 1.1 (as defined in <code class="docutils literal notranslate"><span class="pre">RFC</span> <span class="pre">7230</span></code>)</div>
<div class="line"><strong>4:</strong> CoAP over TCP (as defined in <code class="docutils literal notranslate"><span class="pre">RFC</span> <span class="pre">8323</span></code>)</div>
<div class="line"><strong>5:</strong> CoAP over TLS (as defined in <code class="docutils literal notranslate"><span class="pre">RFC</span> <span class="pre">8323</span></code>)</div>
</div>
<p>Additional values MAY be defined in the future. Any value not understood by
the LwM2M Server MUST be ignored.</p>
<p>The value of this resource SHOULD be the same for all instances of the
Advanced Firmware Update object.</p>
</dd>
</dl>
</section>
<section id="firmware-update-delivery-method-33629-x-9">
<h2><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">6.7.1.9. </span>Firmware Update Delivery Method (/33629/x/9)</a><a class="headerlink" href="#firmware-update-delivery-method-33629-x-9" title="Link to this heading"></a></h2>
<dl class="field-list">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>9</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>R</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>Yes</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Integer</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>0..2</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The LwM2M Client uses this resource to indicate its support for transferring
firmware packages to the client either via the Package Resource (=push) or via
the Package URI Resource (=pull) mechanism.</p>
<div class="line-block">
<div class="line"><strong>0:</strong> Pull only</div>
<div class="line"><strong>1:</strong> Push only</div>
<div class="line"><strong>2:</strong> Both. In this case the LwM2M Server MAY choose the preferred
mechanism for conveying the firmware package to the LwM2M Client.</div>
</div>
<p>The value of this resource SHOULD be the same for all instances of the
Advanced Firmware Update object.</p>
</dd>
</dl>
</section>
<section id="cancel-33629-x-10">
<h2><a class="toc-backref" href="#id10" role="doc-backlink"><span class="section-number">6.7.1.10. </span>Cancel (/33629/x/10)</a><a class="headerlink" href="#cancel-33629-x-10" title="Link to this heading"></a></h2>
<dl class="field-list simple">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>10</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>E</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>No</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>-</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>Cancels firmware update. Cancel can be executed if the device has not
initiated the Update process. If the device is in the process of installing
the firmware or has already completed installation it MUST respond with
Method Not Allowed error code. Upon successful Cancel operation, Update
Result Resource is set to 10 and State is set to 0 by the device.</p>
</dd>
</dl>
</section>
<section id="severity-33629-x-11">
<h2><a class="toc-backref" href="#id11" role="doc-backlink"><span class="section-number">6.7.1.11. </span>Severity (/33629/x/11)</a><a class="headerlink" href="#severity-33629-x-11" title="Link to this heading"></a></h2>
<dl class="field-list">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>11</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>RW</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>No</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Integer</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>0..2</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>Severity of the firmware package.</p>
<div class="line-block">
<div class="line"><strong>0:</strong> Critical</div>
<div class="line"><strong>1:</strong> Mandatory</div>
<div class="line"><strong>2:</strong> Optional</div>
</div>
<p>This information is useful when the device provides an option for the
deferred update. Default value is 1.</p>
</dd>
</dl>
</section>
<section id="last-state-change-time-33629-x-12">
<h2><a class="toc-backref" href="#id12" role="doc-backlink"><span class="section-number">6.7.1.12. </span>Last State Change Time (/33629/x/12)</a><a class="headerlink" href="#last-state-change-time-33629-x-12" title="Link to this heading"></a></h2>
<dl class="field-list simple">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>12</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>R</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>No</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Time</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>-</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>This resource stores the time when the State resource is changed. Device
updates this resource before making any change to the State.</p>
</dd>
</dl>
</section>
<section id="maximum-defer-period-33629-x-13">
<h2><a class="toc-backref" href="#id13" role="doc-backlink"><span class="section-number">6.7.1.13. </span>Maximum Defer Period (/33629/x/13)</a><a class="headerlink" href="#maximum-defer-period-33629-x-13" title="Link to this heading"></a></h2>
<dl class="field-list simple">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>13</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>RW</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>No</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Unsigned Integer</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>-</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>s</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of seconds a user can defer the software update. When this time
period is over, the device will not prompt the user for update and install it
automatically. If the value is 0, a deferred update is not allowed.</p>
</dd>
</dl>
</section>
<section id="component-name-33629-x-14">
<h2><a class="toc-backref" href="#id14" role="doc-backlink"><span class="section-number">6.7.1.14. </span>Component Name (/33629/x/14)</a><a class="headerlink" href="#component-name-33629-x-14" title="Link to this heading"></a></h2>
<dl class="field-list">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>14</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>R</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>No</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>String</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>-</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>Name of the component handled by this instance of the Advanced Firmware
Update object.</p>
<p>This should be a name clearly identifying the component for both humans and
machines. The syntax of these names is implementation-specific, but might
refer to terms such as “bootloader”, “application”, “modem firmware” etc.</p>
</dd>
</dl>
</section>
<section id="current-version-33629-x-15">
<h2><a class="toc-backref" href="#id15" role="doc-backlink"><span class="section-number">6.7.1.15. </span>Current Version (/33629/x/15)</a><a class="headerlink" href="#current-version-33629-x-15" title="Link to this heading"></a></h2>
<dl class="field-list">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>15</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>R</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Single</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>Yes</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>String</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>-</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>Version number of the package that is currently installed and running for the
component handled by this instance of the Advanced Firmware Update object.</p>
<p>For the main component (the one that contains code for the core part of the
device’s functionality), this value SHOULD be the same as the Firmware
Version resource in the Device object (<code class="docutils literal notranslate"><span class="pre">/3/0/3</span></code>).</p>
</dd>
</dl>
</section>
<section id="linked-instances-33629-x-16">
<h2><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">6.7.1.16. </span>Linked Instances (/33629/x/16)</a><a class="headerlink" href="#linked-instances-33629-x-16" title="Link to this heading"></a></h2>
<dl class="field-list">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>16</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>R</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Multiple</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>No</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Objlnk</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>-</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>When multiple instances of the Advanced Firmware Update object are in the
Downloaded state, this resource shall list all other instances that will be
updated in a batch if the Update resource is executed on this instance with
no arguments. Each of the instances listed MUST be in the Downloaded state.</p>
<p>The resource MUST NOT contain references to any objects other than the
Advanced Firmware Update object.</p>
</dd>
</dl>
</section>
<section id="conflicting-instances-33629-x-17">
<h2><a class="toc-backref" href="#id17" role="doc-backlink"><span class="section-number">6.7.1.17. </span>Conflicting Instances (/33629/x/17)</a><a class="headerlink" href="#conflicting-instances-33629-x-17" title="Link to this heading"></a></h2>
<dl class="field-list">
<dt class="field-odd">ID<span class="colon">:</span></dt>
<dd class="field-odd"><p>17</p>
</dd>
<dt class="field-even">Operations<span class="colon">:</span></dt>
<dd class="field-even"><p>R</p>
</dd>
<dt class="field-odd">Instances<span class="colon">:</span></dt>
<dd class="field-odd"><p>Multiple</p>
</dd>
<dt class="field-even">Mandatory<span class="colon">:</span></dt>
<dd class="field-even"><p>No</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Objlnk</p>
</dd>
<dt class="field-even">Range or Enumeration<span class="colon">:</span></dt>
<dd class="field-even"><p>-</p>
</dd>
<dt class="field-odd">Units<span class="colon">:</span></dt>
<dd class="field-odd"><p>-</p>
</dd>
<dt class="field-even">Description<span class="colon">:</span></dt>
<dd class="field-even"><p>When the download or update fails and the Update Result resource is set to 12
or 13, this resource MUST be present and contain references to the Advanced
Firmware Update object instances that caused the conflict.</p>
<p>In other states, this resource MAY be absent or empty, or it MAY contain
references to the Advanced Firmware Update object instances which are in a
state conflicting with the possibility of successfully updating this
instance.</p>
<p>The resource MUST NOT contain references to any objects other than the
Advanced Firmware Update object.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../FU-AdvancedFirmwareUpdate.html" class="btn btn-neutral float-left" title="6.7. Advanced Firmware Update" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="FU-AFU-StateDiagram.html" class="btn btn-neutral float-right" title="6.7.2. Firmware Update State Diagram" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2025, AVSystem.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>