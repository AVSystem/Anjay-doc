

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>3. Compiling client applications &mdash; Anjay 2.12.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Basic client" href="BasicClient.html" />
    <link rel="prev" title="2. OMA LwM2M - Brief description" href="LwM2M.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #ffd500" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/avsystem_header.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.12.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="LwM2M.html">2. OMA LwM2M - Brief description</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Compiling client applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="BasicClient.html">4. Basic client</a></li>
<li class="toctree-l1"><a class="reference internal" href="AdvancedTopics.html">5. Advanced topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="FirmwareUpdateTutorial.html">6. Firmware Update Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tools.html">7. Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="PortingGuideForNonPOSIXPlatforms.html">8. Porting guide for non-POSIX platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="Migrating.html">9. Migrating from older versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Commercial_support.html">10. Commercial support</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Anjay</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">3. </span>Compiling client applications</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="compiling-client-applications">
<h1><span class="section-number">3. </span>Compiling client applications<a class="headerlink" href="#compiling-client-applications" title="Permalink to this headline">¶</a></h1>
<div class="section" id="compiling-the-library">
<h2><span class="section-number">3.1. </span>Compiling the library<a class="headerlink" href="#compiling-the-library" title="Permalink to this headline">¶</a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you cloned Anjay from a Git repository, ensure that you updated
submodules by calling <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">update</span> <span class="pre">--init</span></code> before continuing.</p>
</div>
<p>Anjay uses CMake for project configuration. To compile the library with default
settings, call the following command in Anjay root directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake . <span class="o">&amp;&amp;</span> make
</pre></div>
</div>
</div>
<div class="section" id="cross-compiling">
<h2><span class="section-number">3.2. </span>Cross-compiling<a class="headerlink" href="#cross-compiling" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cross-compilation is necessary only if you are compiling the library to use
on a different system, than the one used for compilation. If you, for
example, want to use Anjay on Raspberry Pi, then you can perform
compilation on Raspberry Pi as described above or cross-compilation on your
PC.</p>
</div>
<div class="section" id="arm-cortex-m3-powered-stm3220">
<h3><span class="section-number">3.2.1. </span>ARM Cortex-M3-powered STM3220<a class="headerlink" href="#arm-cortex-m3-powered-stm3220" title="Permalink to this headline">¶</a></h3>
<p>First, prepare a CMake toolchain file (see <a class="reference external" href="https://cmake.org/cmake/help/v3.0/manual/cmake-toolchains.7.html#cross-compiling">CMake documentation</a>), then pass <code class="code docutils literal notranslate"><span class="pre">CMAKE_TOOLCHAIN_FILE</span></code> when configuring Anjay:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake -DCMAKE_TOOLCHAIN_FILE<span class="o">=</span><span class="nv">$YOUR_TOOLCHAIN_FILE</span> . <span class="o">&amp;&amp;</span> make
</pre></div>
</div>
<p>An example CMake toolchain file for an ARM Cortex-M3-powered STM3220 platform may look like so:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_SYSTEM_NAME</span> <span class="s">Generic</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_SYSTEM_VERSION</span> <span class="s">1</span><span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_C_COMPILER</span> <span class="s">arm-none-eabi-gcc</span><span class="p">)</span>

<span class="c"># CMAKE_C_FLAGS set in a toolchain file get overwritten by CMakeCInformation.cmake</span>
<span class="c"># unless they are FORCEfully set in the cache</span>
<span class="c"># See http://stackoverflow.com/a/30217088/2339636</span>
<span class="nb">unset</span><span class="p">(</span><span class="s">CMAKE_C_FLAGS</span> <span class="s">CACHE</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_C_FLAGS</span> <span class="s2">&quot;-mcpu=cortex-m3 -mthumb -msoft-float -ffunction-sections -fdata-sections -fno-common -fmessage-length=0 -std=gnu99 --specs=nosys.specs&quot;</span> <span class="s">CACHE</span> <span class="s">STRING</span> <span class="s2">&quot;&quot;</span> <span class="s">FORCE</span><span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_EXE_LINKER_FLAGS</span> <span class="s2">&quot;-Wl,-gc-sections&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="android">
<h3><span class="section-number">3.2.2. </span>Android<a class="headerlink" href="#android" title="Permalink to this headline">¶</a></h3>
<p>Compilation on Android platform is rather straightforward. First you have to get <a class="reference external" href="https://developer.android.com/ndk/index.html">Android NDK</a>. To configure Anjay you
have to pass <code class="docutils literal notranslate"><span class="pre">CMAKE_TOOLCHAIN_FILE</span></code> from the NDK (we assume that
<code class="docutils literal notranslate"><span class="pre">ANDROID_NDK</span></code> variable contains a path to the folder where Android NDK
is extracted):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake -DCMAKE_TOOLCHAIN_FILE<span class="o">=</span><span class="nv">$ANDROID_NDK</span>/build/cmake/android.toolchain.cmake <span class="se">\</span>
      -DDTLS_BACKEND<span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="se">\</span>
      -DANDROID_ALLOW_UNDEFINED_SYMBOLS<span class="o">=</span>ON <span class="se">\</span>
      -DANDROID_PLATFORM<span class="o">=</span>android-18 <span class="se">\</span>
      -DANDROID_ABI<span class="o">=</span>armeabi .
</pre></div>
</div>
<p>After that Anjay can be compiled as usual via <cite>make</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Android platforms older than <cite>android-18</cite> are not supported.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">ANDROID_ALLOW_UNDEFINED_SYMBOLS</span></code> is set, so that unresolved symbols
required by the <cite>libanjay.so</cite> are not reported during the linking
stage. They shall be resolved by providing dependencies to the final
executable as it is illustrated in the next section.</p>
</div>
<p>Note that we did not set any <code class="docutils literal notranslate"><span class="pre">DTLS_BACKEND</span></code> and therefore Anjay is compiled
without DTLS support. To enable DTLS support you have to provide a value
to <code class="docutils literal notranslate"><span class="pre">DTLS_BACKEND</span></code> (see <a class="reference external" href="https://github.com/AVSystem/Anjay">README.md</a>
for more details) along with specific variable indicating where the required
DTLS libraries are to be found, i.e. one of:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OPENSSL_ROOT_DIR</span></code> (as <cite>FindOpenSSL.cmake</cite> suggests),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MBEDTLS_ROOT_DIR</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TINYDTLS_ROOT_DIR</span></code></p></li>
</ul>
</div></blockquote>
<p>depending on the chosen backend.</p>
<div class="topic">
<p class="topic-title">Example compilation with mbed TLS backend</p>
<p>First, we compile mbed TLS on Android:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/ARMmbed/mbedtls -b mbedtls-2.5.0
$ <span class="nb">cd</span> mbedtls
$ cmake -DCMAKE_TOOLCHAIN_FILE<span class="o">=</span><span class="nv">$ANDROID_NDK</span>/build/cmake/android.toolchain.cmake <span class="se">\</span>
        -DANDROID_PLATFORM<span class="o">=</span>android-18 <span class="se">\</span>
        -DANDROID_ABI<span class="o">=</span>armeabi <span class="se">\</span>
        -DENABLE_TESTING<span class="o">=</span>OFF <span class="se">\</span>
        -DCMAKE_INSTALL_PREFIX<span class="o">=</span>/tmp/mbedtls/install .
$ make
$ make install
</pre></div>
</div>
<p>We then go back to the Anjay source directory, to reconfigure Anjay to use
mbed TLS binaries (we strongly suggest to clean all kind of CMake caches
before proceeding, as it may not work otherwise):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake -DCMAKE_TOOLCHAIN_FILE<span class="o">=</span><span class="nv">$ANDROID_NDK</span>/build/cmake/android.toolchain.cmake <span class="se">\</span>
      -DDTLS_BACKEND<span class="o">=</span><span class="s2">&quot;mbedtls&quot;</span> <span class="se">\</span>
      -DMBEDTLS_ROOT_DIR<span class="o">=</span>/tmp/mbedtls/install <span class="se">\</span>
      -DANDROID_ALLOW_UNDEFINED_SYMBOLS<span class="o">=</span>ON <span class="se">\</span>
      -DANDROID_PLATFORM<span class="o">=</span>android-18 <span class="se">\</span>
      -DANDROID_ABI<span class="o">=</span>armeabi .
</pre></div>
</div>
<p>And finally, we run <cite>make</cite>, finishing the whole procedure.</p>
</div>
</div>
</div>
<div class="section" id="installing-the-library">
<h2><span class="section-number">3.3. </span>Installing the library<a class="headerlink" href="#installing-the-library" title="Permalink to this headline">¶</a></h2>
<div class="section" id="building-with-cmake">
<h3><span class="section-number">3.3.1. </span>Building with CMake<a class="headerlink" href="#building-with-cmake" title="Permalink to this headline">¶</a></h3>
<p>The preferred way of building Anjay is to use CMake.</p>
<p>To install Anjay headers and libraries in <code class="code docutils literal notranslate"><span class="pre">/usr/local</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake . <span class="o">&amp;&amp;</span> make <span class="o">&amp;&amp;</span> sudo make install
</pre></div>
</div>
<p>A custom installation prefix may be set using <code class="code docutils literal notranslate"><span class="pre">CMAKE_INSTALL_PREFIX</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake -DCMAKE_INSTALL_PREFIX<span class="o">=</span>/custom/path . <span class="o">&amp;&amp;</span> make <span class="o">&amp;&amp;</span> make install
</pre></div>
</div>
</div>
<div class="section" id="alternative-build-systems">
<span id="no-cmake"></span><h3><span class="section-number">3.3.2. </span>Alternative build systems<a class="headerlink" href="#alternative-build-systems" title="Permalink to this headline">¶</a></h3>
<p>Alternatively, you may use any other build system. You will need to:</p>
<ul class="simple">
<li><p>Prepare your <code class="docutils literal notranslate"><span class="pre">avs_commons_config.h</span></code>, <code class="docutils literal notranslate"><span class="pre">avs_coap_config.h</span></code> and <code class="docutils literal notranslate"><span class="pre">anjay_config.h</span></code> files.</p>
<ul>
<li><p>Comments in <a class="reference external" href="https://github.com/AVSystem/avs_commons/blob/master/include_public/avsystem/commons/avs_commons_config.h.in">avs_commons_config.h.in</a>,
<a class="reference external" href="https://github.com/AVSystem/Anjay/blob/master/deps/avs_coap/include_public/avsystem/coap/avs_coap_config.h.in">avs_coap_config.h.in</a>
and <a class="reference external" href="https://github.com/AVSystem/Anjay/blob/master/include_public/anjay/anjay_config.h.in">anjay_config.h.in</a>
will guide you about the meaning of various settings.</p></li>
<li><p>You may use one of the directories from <a class="reference external" href="https://github.com/AVSystem/Anjay/blob/master/example_configs">example_configs</a> as a starting point. See
<a class="reference external" href="https://github.com/AVSystem/Anjay/blob/master/example_configs/README.md">README.md inside that directory</a> for details. You may
even set one of the subdirectories there are as an include path directly in your compiler if you
do not need any customizations.</p></li>
</ul>
</li>
<li><p>Configure your build system so that:</p>
<ul>
<li><p>At least all <code class="docutils literal notranslate"><span class="pre">*.c</span></code> and <code class="docutils literal notranslate"><span class="pre">*.h</span></code> files from <code class="docutils literal notranslate"><span class="pre">src</span></code>, <code class="docutils literal notranslate"><span class="pre">include_public</span></code>, <code class="docutils literal notranslate"><span class="pre">deps/avs_coap/src</span></code>,
<code class="docutils literal notranslate"><span class="pre">deps/avs_coap/include_public</span></code>, <code class="docutils literal notranslate"><span class="pre">deps/avs_commons/src</span></code> and
<code class="docutils literal notranslate"><span class="pre">deps/avs_commons/include_public</span></code> directories are preserved, with the directory structure
intact.</p>
<ul>
<li><p>It is also safe to merge contents of all <code class="docutils literal notranslate"><span class="pre">include_public</span></code> directories into one. Merging
<code class="docutils literal notranslate"><span class="pre">src</span></code> directories should be safe, too, but is not explicitly supported.</p></li>
</ul>
</li>
<li><p>All <code class="docutils literal notranslate"><span class="pre">*.c</span></code> files inside <code class="docutils literal notranslate"><span class="pre">src</span></code>, <code class="docutils literal notranslate"><span class="pre">deps/avs_coap/src</span></code>, <code class="docutils literal notranslate"><span class="pre">deps/avs_commons/src</span></code>, or any of
their direct or indirect subdirectories are compiled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deps/avs_commons/src</span></code> and <code class="docutils literal notranslate"><span class="pre">deps/avs_commons/include_public</span></code> directories are included in the
header search path when compiling <code class="docutils literal notranslate"><span class="pre">avs_commons</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deps/avs_coap/src</span></code>, <code class="docutils literal notranslate"><span class="pre">deps/avs_coap/include_public</span></code> and <code class="docutils literal notranslate"><span class="pre">deps/avs_commons/include_public</span></code>
directories are included in the header search path when compiling <code class="docutils literal notranslate"><span class="pre">avs_coap</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>, <code class="docutils literal notranslate"><span class="pre">include_public</span></code>, <code class="docutils literal notranslate"><span class="pre">deps/avs_coap/include_public</span></code> and
<code class="docutils literal notranslate"><span class="pre">deps/avs_commons/include_public</span></code> directories are included in the header search path when
compiling Anjay.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">include_public</span></code>, <code class="docutils literal notranslate"><span class="pre">deps/avs_coap/include_public</span></code> and <code class="docutils literal notranslate"><span class="pre">deps/avs_commons/include_public</span></code>
directories, or copies of them (possibly merged into one directory) are included in the header
search path when compiling dependent application code.</p></li>
</ul>
</li>
</ul>
<p class="rubric">Example</p>
<p>Below is an example of a simplistic build process, that builds all of avs_commons, avs_coap and
Anjay from a Unix-like shell:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configuration</span>
cp -r example_configs/linux_lwm2m10 config
<span class="c1"># you may want to edit the files in the &quot;config&quot; directory before continuing</span>

<span class="c1"># compilation</span>
cc -Iconfig -Iinclude_public -Ideps/avs_coap/include_public -Ideps/avs_commons/include_public -Isrc -Ideps/avs_coap/src -Ideps/avs_commons/src -c <span class="k">$(</span>find src deps/avs_coap/src deps/avs_commons/src -name <span class="s1">&#39;*.c&#39;</span><span class="k">)</span>
ar rcs libanjay.a *.o

<span class="c1"># installation</span>
cp libanjay.a /usr/local/lib/
cp -r include_public/avsystem /usr/local/include/
cp -r deps/avs_coap/include_public/avsystem /usr/local/include/
cp -r deps/avs_commons/include_public/avsystem /usr/local/include/
cp -r config/* /usr/local/include/
</pre></div>
</div>
</div>
</div>
<div class="section" id="including-the-library-in-an-application">
<h2><span class="section-number">3.4. </span>Including the library in an application<a class="headerlink" href="#including-the-library-in-an-application" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cmake-projects">
<h3><span class="section-number">3.4.1. </span>CMake projects<a class="headerlink" href="#cmake-projects" title="Permalink to this headline">¶</a></h3>
<p>The preferred method of using Anjay in custom projects is to use CMake <code class="code docutils literal notranslate"><span class="pre">find_package</span></code> command after installing the library:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">anjay</span><span class="p">)</span>
<span class="nb">include_directories</span><span class="p">(</span><span class="o">${</span><span class="nv">ANJAY_INCLUDE_DIRS</span><span class="o">}</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">my_executable</span> <span class="o">${</span><span class="nv">ANJAY_LIBRARIES</span><span class="o">}</span><span class="p">)</span> <span class="c"># or ANJAY_LIBRARIES_STATIC for a static library</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a custom installation path is used, you need to set <code class="code docutils literal notranslate"><span class="pre">anjay_DIR</span></code> CMake variable to <code class="code docutils literal notranslate"><span class="pre">$YOUR_INSTALL_PREFIX/lib/anjay</span></code>.</p>
</div>
</div>
<div class="section" id="id1">
<h3><span class="section-number">3.4.2. </span>Alternative build systems<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>If Anjay itself has been compiled using CMake, flags necessary for other build systems can be
retrieved using <code class="code docutils literal notranslate"><span class="pre">cmake</span></code> command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake --find-package -DNAME<span class="o">=</span>anjay -DLANGUAGE<span class="o">=</span>C -DCOMPILER_ID<span class="o">=</span>Generic -DMODE<span class="o">=</span>&lt;mode&gt;
</pre></div>
</div>
<p>Where <code class="code docutils literal notranslate"><span class="pre">&lt;mode&gt;</span></code> is one of:</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">EXIST</span></code> - check whether the library can be found,</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">COMPILE</span></code> - print compilation flags,</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">LINK</span></code> - print linking arguments.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a custom installation prefix is used, you need to also pass <code class="code docutils literal notranslate"><span class="pre">-Danjay_DIR=$YOUR_INSTALL_PREFIX/lib/anjay</span></code>.</p>
</div>
</div>
<div class="section" id="anjay-compiled-without-cmake">
<h3><span class="section-number">3.4.3. </span>Anjay compiled without CMake<a class="headerlink" href="#anjay-compiled-without-cmake" title="Permalink to this headline">¶</a></h3>
<p>If Anjay has been compiled without using CMake, you will need to provide necessary flags manually.</p>
<p>Specific dependencies will vary according to:</p>
<ul class="simple">
<li><p>compile-time configuration, including:</p>
<ul>
<li><p>avs_compat_threading backend</p></li>
<li><p>avs_crypto backend, if any</p></li>
<li><p>avs_net DTLS backend, if any</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AVS_COMMONS_HTTP_WITH_ZLIB</span></code> setting, if avs_http is enabled</p></li>
</ul>
</li>
<li><p>target platform</p></li>
<li><p>build environment</p></li>
</ul>
<p class="rubric">Example</p>
<p>For the following conditions:</p>
<ul class="simple">
<li><p>Anjay compiled with all optional features enabled, and:</p>
<ul>
<li><p>mbed TLS security enabled as avs_net DTLS backend and/or avs_crypto backend</p></li>
<li><p>PThread used as avs_compat_threading backend</p></li>
<li><p>avs_http enabled with zlib support</p></li>
</ul>
</li>
<li><p>Target platform being a typical desktop GNU/Linux distribution</p></li>
<li><p>GCC or Clang used as the compiler</p></li>
<li><p>Anjay compiled and installed as shown in the example in the <a class="reference internal" href="#no-cmake"><span class="std std-ref">Alternative build systems</span></a> section</p></li>
</ul>
<p>the flags necessary to link client applications would be:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-lanjay -lz -lmbedtls -lmbedcrypto -lmbedx509 -lm -pthread
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="BasicClient.html" class="btn btn-neutral float-right" title="4. Basic client" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="LwM2M.html" class="btn btn-neutral float-left" title="2. OMA LwM2M - Brief description" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2017-2021, AVSystem.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>