<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>10.8. OSCORE &mdash; Anjay 3.4.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="10.9. SMS Binding" href="CF-SMSBinding.html" />
    <link rel="prev" title="10.7. Non-IP Data Delivery" href="CF-NIDD.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #ffd500" >
            <a href="../index.html">
            <img src="../_static/avsystem_header.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.4.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LwM2M.html">2. OMA LwM2M - Brief description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Compiling_client_applications.html">3. Compiling client applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BasicClient.html">4. Basic client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AdvancedTopics.html">5. Advanced topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FirmwareUpdateTutorial.html">6. Firmware Update Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools.html">7. Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PortingGuideForNonPOSIXPlatforms.html">8. Porting guide for non-POSIX platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Migrating.html">9. Migrating from older versions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../CommercialFeatures.html">10. Commercial features</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="CF-CorePersistence.html">10.1. Core Persistence</a></li>
<li class="toctree-l2"><a class="reference internal" href="CF-CustomHardwareSupport.html">10.2. Custom Hardware Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="CF-EST.html">10.3. Enrollment over Secure Transport</a></li>
<li class="toctree-l2"><a class="reference internal" href="CF-FSDM.html">10.4. File System Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="CF-HSM.html">10.5. Hardware Security Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="CF-IoTSAFE.html">10.6. IoT SAFE</a></li>
<li class="toctree-l2"><a class="reference internal" href="CF-NIDD.html">10.7. Non-IP Data Delivery</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">10.8. OSCORE</a></li>
<li class="toctree-l2"><a class="reference internal" href="CF-SMSBinding.html">10.9. SMS Binding</a></li>
<li class="toctree-l2"><a class="reference internal" href="CF-SmartCardBootstrap.html">10.10. Bootstrapper (smart card bootstrap)</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #ffd500" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Anjay</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../CommercialFeatures.html"><span class="section-number">10. </span>Commercial features</a></li>
      <li class="breadcrumb-item active"><span class="section-number">10.8. </span>OSCORE</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="oscore">
<h1><span class="section-number">10.8. </span>OSCORE<a class="headerlink" href="#oscore" title="Permalink to this headline"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#general-description" id="id1">General description</a></p></li>
<li><p><a class="reference internal" href="#technical-documentation" id="id2">Technical documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#enabling-oscore-support" id="id3">Enabling OSCORE support</a></p></li>
<li><p><a class="reference internal" href="#encryption-and-decryption-backend" id="id4">Encryption and decryption backend</a></p></li>
<li><p><a class="reference internal" href="#installing-and-configuring-oscore-object" id="id5">Installing and configuring OSCORE Object</a></p></li>
<li><p><a class="reference internal" href="#persisting-oscore-state" id="id6">Persisting OSCORE state</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="general-description">
<h2><a class="toc-backref" href="#id1"><span class="section-number">10.8.1. </span>General description</a><a class="headerlink" href="#general-description" title="Permalink to this headline"></a></h2>
<p><strong>Object Security for Constrained RESTful Environments</strong> (OSCORE, <a class="reference external" href="https://datatracker.ietf.org/doc/html/rfc8613">RFC 8613</a>) is a security protocol
protecting CoAP requests and responses using CBOR Object Signing and Encryption
(COSE, <a class="reference external" href="https://datatracker.ietf.org/doc/html/rfc8152">RFC 8152</a>). It provides a
high standard communication security while remaining lightweight. Unlike DTLS
and TLS, OSCORE is designed for resource-constrained devices. Encrypting only the
message payload (and parts of the header) on the application layer allows to achieve:</p>
<ul class="simple">
<li><p><strong>Less power consumption</strong> due to less data being processed by time-consuming
cryptographic algorithms and shorter messages being transmitted,</p></li>
<li><p><strong>Smaller memory utilization</strong> by the software protocol stack,</p></li>
<li><p><strong>Shorter computing time</strong> that enhances device responsiveness,</p></li>
<li><p><strong>End-to-end</strong> security without data being unencrypted and re-encrypted by
the network gateways,</p></li>
<li><p><strong>Flexibility</strong> in transport protocols selection since OSCORE works with UDP,
TCP, <a class="reference internal" href="CF-SMSBinding.html"><span class="doc">SMS</span></a> and <a class="reference internal" href="CF-NIDD.html"><span class="doc">NIDD</span></a>.</p></li>
</ul>
<p>OSCORE encryption covers message payload and Request/Response Code. Most CoAP
header fields (i.e. the message fields in the fixed 4-byte header) are required
to be read and/or changed by CoAP proxies, so, in general, they can not be protected
end-to-end if proxy support is required. Nevertheless, there is no hop-by-hop
information encryption (which takes place in (D)TLS proxies) and only the pre-authorized
endpoint (either target device or LwM2M Server) is able to decipher the message entirely.
Even if the network becomes compromised, the data remains secure.</p>
<p>In solutions where the security is top-priority, OSCORE can be used together with
(D)TLS to attain double encryption realized on different protocol stack layers.
OSCORE commercial feature in Anjay comes mostly as an extension to <code class="docutils literal notranslate"><span class="pre">avs_coap</span></code>
submodule and as LwM2M OSCORE Object implementation (OSCORE module). It gives an
alternative to the security provided by the Transport Layer Protocols (TLS/DTLS)
or enhances it by providing additional encryption on the Application Layer and by
covering additional message frame fields.</p>
<p>Keying material stored in the OSCORE Object can only be set in the Bootstrap phase,
that is, during a Factory Bootstrap, by an LwM2M Bootstrap-Server or by a
<a class="reference internal" href="CF-SmartCardBootstrap.html"><span class="doc">Bootstrapper (smart card bootstrap)</span></a>.</p>
</section>
<section id="technical-documentation">
<h2><a class="toc-backref" href="#id2"><span class="section-number">10.8.2. </span>Technical documentation</a><a class="headerlink" href="#technical-documentation" title="Permalink to this headline"></a></h2>
<section id="enabling-oscore-support">
<h3><a class="toc-backref" href="#id3"><span class="section-number">10.8.2.1. </span>Enabling OSCORE support</a><a class="headerlink" href="#enabling-oscore-support" title="Permalink to this headline"></a></h3>
<p>If support for OSCORE is available in your version of Anjay, it can be enabled at
compile-time by enabling the <code class="docutils literal notranslate"><span class="pre">WITH_AVS_COAP_OSCORE</span></code> macro in the
<code class="docutils literal notranslate"><span class="pre">avs_coap_config.h</span></code> file or, if using CMake, by enabling the corresponding
<code class="docutils literal notranslate"><span class="pre">WITH_COAP_OSCORE</span></code> CMake option.</p>
<p>There is also a possibility to use CoAP as defined in <a class="reference external" href="https://datatracker.ietf.org/doc/html/draft-ietf-core-object-security-08">draft-ietf-core-object-security-08</a> (which is
referenced in the LwM2M 1.1 Technical Specifications). There is a minor difference
between the implementation of the protocol in this draft and the final version,
so if you want to be fully compliant with the LwM2M 1.1 standard, you might want to
use it. To achieve that, enable the <code class="docutils literal notranslate"><span class="pre">WITH_AVS_COAP_OSCORE_DRAFT_8</span></code> macro in the
<code class="docutils literal notranslate"><span class="pre">avs_coap_config.h</span></code> file or, if using CMake, enable the corresponding
<code class="docutils literal notranslate"><span class="pre">WITH_AVS_COAP_OSCORE_DRAFT_8</span></code> CMake option.</p>
<p>Anjay provides a pre-implemented OSCORE Object module. You can enable it at compile-time
by enabling <code class="docutils literal notranslate"><span class="pre">ANJAY_WITH_MODULE_OSCORE</span></code> macro in the <code class="docutils literal notranslate"><span class="pre">anjay_config.h</span></code> file or,
if using CMake, by enabling the corresponding <code class="docutils literal notranslate"><span class="pre">WITH_MODULE_oscore</span></code> CMake option.
It is not mandatory to use Anjay’s OSCORE Object implementation. However, this article
and example will focus on using it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To provide your own object implementation, you need to prepare handler
functions similarly to <a class="reference internal" href="../AdvancedTopics/AT-CustomObjects.html"><span class="doc">Custom LwM2M objects</span></a>.</p>
</div>
</section>
<section id="encryption-and-decryption-backend">
<h3><a class="toc-backref" href="#id4"><span class="section-number">10.8.2.2. </span>Encryption and decryption backend</a><a class="headerlink" href="#encryption-and-decryption-backend" title="Permalink to this headline"></a></h3>
<p>OSCORE extension in <code class="docutils literal notranslate"><span class="pre">avs_coap</span></code> module does not implement any encryption algorithms.
It relies on a cryptographic library used as a (D)TLS backend selected via CMake option
at the compile time.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<div class="line-block">
<div class="line">The cryptographic algorithms used in the protocol are defined by default values.</div>
<div class="line">The AEAD Algorithm used is AES-CCM-16-64-128.</div>
<div class="line">The HMAC Algorithm used is HKDF SHA-256.</div>
</div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If a custom (D)TLS backend library is used, make sure it supports AEAD and HMAC
Algorithms mentioned above.</p>
</div>
<p>The cryptographic algorithms are used to encrypt the CoAP message payload.
CoAP message code is protected by writing the original value into an encrypted COSE object
and setting a valid but not relevant code into the CoAP header.</p>
</section>
<section id="installing-and-configuring-oscore-object">
<h3><a class="toc-backref" href="#id5"><span class="section-number">10.8.2.3. </span>Installing and configuring OSCORE Object</a><a class="headerlink" href="#installing-and-configuring-oscore-object" title="Permalink to this headline"></a></h3>
<p>If OSCORE is enabled and used, OSCORE Object Instance that holds keying parameters
applied to communication with a specific server has to be linked in the corresponding
Security Object Instance. The object link is realized by a proper setting
<code class="docutils literal notranslate"><span class="pre">anjay_security_instance_t.oscore_iid</span></code> field during Security Object Instance creation.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="w"> </span><span class="n">anjay_oscore_instance_t</span><span class="w"> </span><span class="n">oscore_instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</span><span class="hll"><span class="w">     </span><span class="p">.</span><span class="n">master_secret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Ma$T3Rs3CR3t&quot;</span><span class="p">,</span><span class="w"></span>
</span><span class="hll"><span class="w">     </span><span class="p">.</span><span class="n">master_salt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Ma$T3Rs4LT&quot;</span><span class="p">,</span><span class="w"></span>
</span><span class="hll"><span class="w">     </span><span class="p">.</span><span class="n">sender_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;15&quot;</span><span class="p">,</span><span class="w"></span>
</span><span class="hll"><span class="w">     </span><span class="p">.</span><span class="n">recipient_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;25&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w"> </span><span class="p">};</span><span class="w"></span>
</span><span class="hll">
</span><span class="hll"><span class="w"> </span><span class="n">anjay_iid_t</span><span class="w"> </span><span class="n">oscore_instance_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ANJAY_ID_INVALID</span><span class="p">;</span><span class="w"></span>
</span><span class="hll"><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">anjay_oscore_add_instance</span><span class="p">(</span><span class="n">anjay</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">oscore_instance</span><span class="p">,</span><span class="w"></span>
</span><span class="hll"><span class="w">                               </span><span class="o">&amp;</span><span class="n">oscore_instance_id</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</span><span class="hll"><span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"></span>
</span><span class="hll"><span class="w"> </span><span class="p">}</span><span class="w"></span>
</span>
<span class="w"> </span><span class="n">anjay_security_instance_t</span><span class="w"> </span><span class="n">security_instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="p">.</span><span class="n">ssid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="p">.</span><span class="n">server_uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;coap://eu.iot.avsystem.cloud:5683&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="p">.</span><span class="n">security_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ANJAY_SECURITY_NOSEC</span><span class="p">,</span><span class="w"></span>
<span class="hll"><span class="w">     </span><span class="p">.</span><span class="n">oscore_iid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">oscore_instance_id</span><span class="w"></span>
</span><span class="w"> </span><span class="p">};</span><span class="w"></span>

<span class="w"> </span><span class="n">anjay_iid_t</span><span class="w"> </span><span class="n">security_instance_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ANJAY_ID_INVALID</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">anjay_security_object_add_instance</span><span class="p">(</span><span class="n">anjay</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">security_instance</span><span class="p">,</span><span class="w"></span>
<span class="w">                                        </span><span class="o">&amp;</span><span class="n">security_instance_id</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="persisting-oscore-state">
<h3><a class="toc-backref" href="#id6"><span class="section-number">10.8.2.4. </span>Persisting OSCORE state</a><a class="headerlink" href="#persisting-oscore-state" title="Permalink to this headline"></a></h3>
<p>The OSCORE state can be persisted and restored similarly to other
Anjay’s pre-implemented objects. Let’s reuse and extend
<a class="reference internal" href="../AdvancedTopics/AT-Persistence.html"><span class="doc">Persistence support</span></a> tutorial to provide an example.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When calling <code class="docutils literal notranslate"><span class="pre">anjay_security_object_restore()</span></code>, a check is performed
if a linked OSCORE Object Instance ID is a valid entry in the Data Model.
Therefore the OSCORE Object has to be restored first.</p>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">avs_is_err</span><span class="p">(</span><span class="n">anjay_oscore_object_persist</span><span class="p">(</span><span class="n">anjay</span><span class="p">,</span><span class="w"> </span><span class="n">file_stream</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="n">avs_log</span><span class="p">(</span><span class="n">tutorial</span><span class="p">,</span><span class="w"> </span><span class="n">ERROR</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Could not persist OSCORE Object&quot;</span><span class="p">);</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="k">goto</span><span class="w"> </span><span class="n">finish</span><span class="p">;</span><span class="w"></span>
</span><span class="hll"><span class="p">}</span><span class="w"></span>
</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">avs_is_err</span><span class="p">(</span><span class="n">anjay_security_object_persist</span><span class="p">(</span><span class="n">anjay</span><span class="p">,</span><span class="w"> </span><span class="n">file_stream</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">avs_log</span><span class="p">(</span><span class="n">tutorial</span><span class="p">,</span><span class="w"> </span><span class="n">ERROR</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Could not persist Security Object&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">goto</span><span class="w"> </span><span class="n">finish</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">avs_is_err</span><span class="p">(</span><span class="n">anjay_server_object_persist</span><span class="p">(</span><span class="n">anjay</span><span class="p">,</span><span class="w"> </span><span class="n">file_stream</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">avs_log</span><span class="p">(</span><span class="n">tutorial</span><span class="p">,</span><span class="w"> </span><span class="n">ERROR</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Could not persist Server Object&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">goto</span><span class="w"> </span><span class="n">finish</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">avs_is_err</span><span class="p">(</span><span class="n">anjay_oscore_object_restore</span><span class="p">(</span><span class="n">anjay</span><span class="p">,</span><span class="w"> </span><span class="n">file_stream</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="n">avs_log</span><span class="p">(</span><span class="n">tutorial</span><span class="p">,</span><span class="w"> </span><span class="n">ERROR</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Could not restore OSCORE Object&quot;</span><span class="p">);</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="k">goto</span><span class="w"> </span><span class="n">finish</span><span class="p">;</span><span class="w"></span>
</span><span class="hll"><span class="p">}</span><span class="w"></span>
</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">avs_is_err</span><span class="p">(</span><span class="n">anjay_security_object_restore</span><span class="p">(</span><span class="n">anjay</span><span class="p">,</span><span class="w"> </span><span class="n">file_stream</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">avs_log</span><span class="p">(</span><span class="n">tutorial</span><span class="p">,</span><span class="w"> </span><span class="n">ERROR</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Could not restore Security Object&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">goto</span><span class="w"> </span><span class="n">finish</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">avs_is_err</span><span class="p">(</span><span class="n">anjay_server_object_restore</span><span class="p">(</span><span class="n">anjay</span><span class="p">,</span><span class="w"> </span><span class="n">file_stream</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">avs_log</span><span class="p">(</span><span class="n">tutorial</span><span class="p">,</span><span class="w"> </span><span class="n">ERROR</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Could not restore Server Object&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">goto</span><span class="w"> </span><span class="n">finish</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The full code for the following example can be found in the
<code class="docutils literal notranslate"><span class="pre">examples/commercial-features/CF-OSCORE</span></code> directory in Anjay sources. Note that
to compile and run it, you need to have access to a commercial version of
Anjay that includes the OSCORE feature.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>OSCORE support in Coiote DM LwM2M Server is currently a <strong>work in progress</strong>.
Provided example based on connection with EU Cloud Coiote DM instance is
only a demonstration that <strong>will not yet work</strong> out of the box.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="CF-NIDD.html" class="btn btn-neutral float-left" title="10.7. Non-IP Data Delivery" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="CF-SMSBinding.html" class="btn btn-neutral float-right" title="10.9. SMS Binding" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2023, AVSystem.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>